<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>flowChart</title>
    <!-- <link rel="stylesheet" type="text/css" href="css/style.css" /> -->
	<link type="text/css" href="css/Semantic-UI-CSS-master/semantic.min.css" rel="stylesheet">
	<link type="text/css" href="css/graph-creator.css" rel="stylesheet" />
	<link type="text/css" href="css/jquery.mCustomScrollbar.css" rel="stylesheet">
	<link type="text/css" href="js/ztree/css/metroStyle/metroStyle.css" rel="stylesheet">
	<link type="text/css" href="css/flow_zyl.css" rel="stylesheet"/>
</head>
<body>
	<div class="subheader editor-toolbar">
		<div class="column pop-btn" data-content="保存" data-position="bottom center" data-variation="mini"><i class="save icon"></i></div>
		<div class="divider"></div>
		<div class="column pop-btn" data-content="剪切" data-position="bottom center" data-variation="mini"><i class="cut icon"></i></div>
		<div class="column pop-btn" data-content="复制" data-position="bottom center" data-variation="mini"><i class="copy icon"></i></div>
		<div class="column pop-btn" data-content="粘贴" data-position="bottom center" data-variation="mini"><i class="paste icon"></i></div>
		<div class="column pop-btn" id="delete-graph" data-content="清空" data-position="bottom center" data-variation="mini"><i class="trash icon"></i></div>
		<div class="column pop-btn" id="delete-ele" data-content="删除" data-position="bottom center" data-variation="mini"><i class="remove icon"></i></div>
		<div class="divider"></div>
		<div class="column pop-btn" data-content="撤销" data-position="bottom center" data-variation="mini"><i class="repeat icon"></i></div>
		<div class="column pop-btn" data-content="恢复" data-position="bottom center" data-variation="mini"><i class="undo icon"></i></div>
		<div class="divider"></div>
		<div class="column pop-btn" data-content="放大" data-position="bottom center" data-variation="mini"><i class="zoom icon"></i></div>
		<div class="column pop-btn" data-content="缩小" data-position="bottom center" data-variation="mini"><i class="zoom out icon"></i></div>
		<div class="column pop-btn" id="reset-zoom" data-content="归位" data-position="bottom center" data-variation="mini"><i class="maximize icon"></i></div>
		<div class="divider"></div>
		<div class="column pop-btn" data-content="导入json" data-position="bottom center" data-variation="mini"><i class="sign in icon"></i></div>
		<div class="column pop-btn small popup" data-content="导出json" data-position="bottom center" data-variation="mini"><i class="sign out icon"></i></div>
		<div class="divider"></div>
		<div class="column pop-btn" data-content="将左侧活动拖至编辑区" data-position="bottom center" data-variation="mini"><i class="help circle outline icon"></i></div>
	</div>
	<div class="full">
		<div id="flowComponents" class="full-left">
			<div class="components-btn noComponent selectBtn" name="selectBtn">
				<img src="icons/activity/select.png" draggable="false"><span>选择</span>
			</div>
			<div class="clearfix"></div>
			<div class="components-btn" name="startComponent" type="start" for-name="circle">
				<img id="img" src="icons/startevent/none.png"/><span>开始</span>
			</div>
			<div class="clearfix"></div>
			<div class="components-btn" name="endComponent" type="end" for-name="circle">
				<img src="icons/endevent/none.png"><span>结束</span>
			</div>
			<div class="clearfix"></div>
			<div class="components-btn" name="activityComponent" type="activity" for-name="rect">
				<img src="icons/activity/list/type.user.png"><span>普通活动</span>
			</div>
			<div class="clearfix"></div>
			<div class="components-btn" name="blockActivity" type="activity" for-name="">
				<img src="icons/activity/task.png"><span>块活动</span>
			</div>
			<div class="clearfix"></div>
			<div class="components-btn" name="subFlowActivity" type="activity" for-name="">
				<img src="icons/activity/event.subprocess.png"><span>子活动</span>
			</div>
			<div class="clearfix"></div>
			<div class="components-btn" name="routeActivity" type="activity" for-name="">
				<img src="icons/activity/list/type.receive.png"><span>路径活动</span>
			</div>
			<div class="clearfix"></div>
			<div class="components-btn noComponent" name="drawLineBtn" for-name="line">
				<img src="icons/connector/sequenceflow.png" draggable="false"><span>线</span>
			</div>
			<div class="clearfix"></div>
			
		</div>
		<div class="full-right tab">
		<form id="containerForm" method="post" action="http://localhost:8088/platform/wfdman/insert.do">
			<div id="container" class="ui top attached tab active full-right-top view" data-tab="first">
				<!-- svg -->
			</div>
			<div id="xpdlContainer" class="ui top attached tab view content-div" data-tab="second">
				<xmp>
					<!-- xpdl -->
				</xmp>
			</div>
			<div id="xmlContainer" class="ui top attached tab view content-div" data-tab="third">
				<xmp>
					<!-- xml -->
				</xmp>
			</div>
			<div class="full-right-btn ui bottom attached tabular menu">
				<a class="item active" data-tab="first">图标视图</a>
				<a class="item" data-tab="second">xpdl视图</a>
				<a class="item" data-tab="third">xml视图</a>
			</div>
			<div id="propertiesWrapper" class="full-right-bottom">
				<div class="component-name"><i class="angle double down icon"></i><span>普通活动</span></div>
				<div class="component-prop content-div">
					<!-- activity属性 -->
				</div>
			</div>

			<input name="xpdlcontent" type="hidden" value="">
			<input name="xmlcontent" type="hidden" value="">

			<input type="hidden" id="wFID" name="wFID" value="">
			<input type="hidden" id="wFType" name="wFType" value="money">
			<input type="hidden" id="subType" name="subType" value="">
			<input type="hidden" id="depart" name="depart" value="">
			<input type="hidden" id="departID" name="departID" value="">
			<input type="hidden" id="formName" name="formName" value="">
			<input type="hidden" id="formId" name="formId" value="">
			<input type="hidden" id="formType" name="formType" value="wfd_form">
			<input type="hidden" id="mode" name="mode" value="">
			<input type="hidden" id="dt" name="dt" onFocus="WdatePicker({dateFmt:'dd HH:mm',skin:'blue'});" value="">
			<input type="hidden" id="dataObjectID" name="dataObjectID" value="">
			<input type="hidden" id="securityID" name="securityID" value="">
			<input type="hidden" id="securityName" name="securityName" value="">
			<input type="hidden" id="orderNo" name="orderNo" value="">
		</form>
		</div>
		<div class="clearfix"></div>
	</div>
	<!-- 导入导出弹出层 -->
	<div class="ui segment small modal json_data">
	  	<i class="close icon"></i>
	  	<div class="header">
	   		导入数据
	  	</div>
	  	<div class="content">
	    	<textarea></textarea>
	  	</div>
	  	<div class="actions">
	      	<div class="ui negative button">No </div>
	      	<div class="ui positive right labeled icon button">Yes <i class="checkmark icon"></i> </div>
	    </div>
	</div>
	<!-- 右键菜单 -->
	<div id="rMenu" class="ui vertical mini menu">
		<a class="item" name="removeMenu">删除<i class="remove icon"></i></a>
		<a class="item" name="propMenu">属性<i class="book icon"></i></a>
		<a class="item" name="toFront">置前<i class="object ungroup icon"></i></a>
	</div>
	<!-- 属性弹出层 start -->
	<div class="ui coupled modal prop_layer">
		<i class="close icon"></i>
	  	<div class="ui pointing secondary menu">
		  <a class="item active" data-tab="one">常规</a>
		  <a class="item" data-tab="two_1">工具</a>
		  <a class="item hideitem" data-tab="two_2">块活动</a>
		  <a class="item hideitem" data-tab="two_3">子工作流</a>
		  <a class="item" data-tab="three">前置条件</a>
		  <a class="item" data-tab="four">后置条件</a>
		  <a class="item" data-tab="five">扩展属性集</a>
		  <a class="item" data-tab="six">超时限制</a>
		  <a class="item" data-tab="seven">高级</a>
		  <a class="item" data-tab="eight">监控信息</a>
		</div>
		<!-- 常规item start -->
		<div class="ui tab segment active" data-tab="one">
			<div class="ui mini form conventional">
				<div class="fields">
				    <div class="five wide field">
				      <label>ID:</label>
				      <input name="ID" type="text" placeholder="ID">
				    </div>
				    <div class="five wide field">
				      <label>名称:</label>
				      <input name="name" type="text" placeholder="名称">
				    </div>
				    <div class="five wide field">
					    <label>类型:</label>
					    <input name="type" type="text" placeholder="类型" disabled="disabled">
					</div>
				</div>
				<div class="ui divider"></div>
				<div class="field">
    				<label>参与者集:</label>
					<div class="two fields">
						<div class="five wide field definition_field">
                		  	<select class="ui search dropdown" name="definition_role">
      							<option value="">请选择</option>
      							<option value="0">(空)</option>
							</select>      					
                		</div>
                		<div class="five wide field">
							<button class="ui facebook mini button definitionBtn"><i class="write icon"></i>定义</button>
                		</div>
                	</div>
                </div>
                <div class="fields">
                	<div class="inline field">
    				  	<div class="ui checkbox isTracking">
    				  	  	<input type="checkbox" tabindex="0" class="hidden">
    				  	  	<label>是否全程跟踪</label>
    				  	  	<input type="hidden" name="isResponsible" value="">
    				  	</div>
    				</div>
    				<div class="inline field">
    				  	<div class="ui checkbox isReceiveTask">
    				  	  	<input type="checkbox" tabindex="0" class="hidden">
    				  	  	<label>是否自动接收任务委派</label>
    				  	  	<input type="hidden" name="autoAcceptAllAssignments" value="">
    				  	</div>
    				</div>
				</div>
				<div class="ui divider"></div>
				<div class="fields">
					<div class="five wide field">
					    <label>开始模式:</label>
					    <select name="startMode" class="ui search dropdown">
					    	<option value="">开始模式</option>
					      	<option value="manual">手动</option>
					      	<option value="automatic">自动</option>
					    </select>
					</div>
					<div class="five wide field">
					    <label>完成模式:</label>
					    <select name="finishMode" class="ui search dropdown">
					    	<option value="">完成模式</option>
					      	<option value="manual">手动</option>
					      	<option value="automatic">自动</option>
					    </select>
					</div>
				    <div class="five wide field">
				      	<label>优先级:</label>
				      	<input name="priority" type="text" placeholder="名称">
				    </div>
				</div>
				<div class="fields">
                	<div class="inline field">
    				  	<div class="ui checkbox completeAllAssignmentsDiv">
    				  	  	<input type="checkbox" tabindex="0" class="hidden">
    				  	  	<label>是否多人处理</label>
    				  	  	<input type="hidden" name="completeAllAssignments" value="">
    				  	</div>
    				</div>
    				<div class="inline field">
    				  	<div class="ui checkbox assignmentsOrderDiv">
    				  	  	<input type="checkbox" tabindex="0" class="hidden">
    				  	  	<label>多人处理是否顺序执行</label>
    				  	  	<input type="hidden" name="assignmentsOrder" value="">
    				  	</div>
    				</div>
    				<div class="inline field">
    				  	<div class="ui checkbox">
    				  	  	<input type="checkbox" tabindex="0" class="hidden">
    				  	  	<label>按参与者生成环节实例</label>
    				  	  	<input type="hidden" name="isMulInstance" value="">
    				  	</div>
    				</div>
				</div>
				<div class="field">
    			  	<label>描述：</label>
    			  	<textarea name="description" rows="2"></textarea>
    			</div>
    			<div class="fields">
					<div class="five wide field">
					    <label>任务委派规则:</label>
					    <select name="taskAssignMode" class="ui search dropdown">
					    	<option value="">任务委派规则</option>
					      	<option value="taskAutoMode">自动</option>
					      	<option value="taskOrgConvertMode">部门默认</option>
					      	<option value="taskRandomMode">随机</option>
					    </select>
					</div>
					<div class="five wide field">
					    <label>必须结束环节:</label>
					    <select name="mustActivity" class="ui search dropdown">
					    	<option value="">必须结束环节</option>
					      	<option value="true">是</option>
					      	<option value="false">否</option>
					    </select>
					</div>
				</div>
			</div>
		</div><!-- 常规item end -->
		<!-- 活动属性-工具item start -->
		<div class="ui tab segment" data-tab="two_1">
			<div class="ui mini form grid toolgrid">
			  	<div class="computer only row">
			  		<div class="twelve wide tablet computer column">
			  			<table class="ui blue sortable selectable celled striped compact table">
							<thead>
								<tr>
									<th class="one wide">选择</th>
									<th class="two wide">应用</th>
									<th class="two wide">类型</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<div class="ui radio checkbox">
											<input type="radio" name="s" tabindex="0" class="hidden">
										</div>
									</td>
									<td>1111111</td>
									<td>Aell</td>
								</tr>
								<tr>
									<td>
										<div class="ui radio checkbox">
											<input type="radio" name="s" tabindex="0" class="hidden">
										</div>
									</td>
									<td>2222222</td>
									<td>Bell</td>
								</tr>
								<tr>
									<td>
										<div class="ui radio checkbox">
											<input type="radio" name="s" tabindex="0" class="hidden">
										</div>
									</td>
									<td>3333333</td>
									<td>Cell</td>
								</tr>
							</tbody>
						</table>
			  		</div>
			    	<div class="three wide column">
			    		<div class="ui vertical">
					    	<button class="ui positive basic mini button toolAddBtn"><i class="icon plus"></i> 添 加</button>
							<button class="ui primary basic mini button showDialog"><i class="icon write"></i> 编 辑</button>
							<button class="ui negative basic mini button"><i class="icon remove"></i> 删 除</button>
					  	</div>
			    	</div>
			  	</div>
			</div>
		</div><!-- 活动属性-工具item end -->
		<!-- 活动属性-块活动item start -->
		<div class="ui tab segment" data-tab="two_2">
			<div class="ui mini form">
				<div class="five wide field">
				  	<label>块标识:</label>
				  	<input type="text" placeholder="块标识">
				</div>
			</div>
		</div><!-- 活动属性-块活动item end -->
		<!-- 活动属性-子活动item start -->
		<div class="ui tab segment" data-tab="two_3">
			<div class="ui mini form">
				<div class="fields">
					<div class="five wide field">
					    <label>工作流过程:</label>
					    <select class="ui search dropdown">
					      	<option value="">选择</option>
					      	<option value="1">过程</option>
					    </select>
					</div>
					<div class="five wide field">
					    <label>执行:</label>
					    <select class="ui search dropdown">
					      	<option value="">选择</option>
					      	<option value="0">(空)</option>
					      	<option value="1">同步</option>
					      	<option value="2">异步</option>
					    </select>
					</div>
				</div>
				<div class="ui divider"></div>
				<div class="ui grid toolgrid">
				  	<div class="computer only row">
				  		<div class="twelve wide tablet computer column">
				  			<table class="ui blue sortable selectable celled striped compact table">
								<thead>
									<tr>
										<th class="one wide">选择</th>
										<th class="two wide">应用</th>
										<th class="two wide">类型</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>
											<div class="ui radio checkbox">
												<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
											</div>
										</td>
										<td>1111111</td>
										<td>Aell</td>
									</tr>
									<tr>
										<td>
											<div class="ui radio checkbox">
												<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
											</div>
										</td>
										<td>2222222</td>
										<td>Bell</td>
									</tr>
									<tr>
										<td>
											<div class="ui radio checkbox">
												<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
											</div>
										</td>
										<td>3333333</td>
										<td>Cell</td>
									</tr>
								</tbody>
							</table>
				  		</div>
				    	<div class="three wide column">
				    		<div class="ui vertical">
						    	<button class="ui positive basic mini button toolAddBtn"><i class="icon plus"></i> 添 加</button>
								<button class="ui primary basic mini button showDialog"><i class="icon write"></i> 编 辑</button>
								<button class="ui negative basic mini button"><i class="icon remove"></i> 删 除</button>
						  	</div>
				    	</div>
				  	</div>
				</div>
			</div>
		</div><!-- 活动属性-子活动item end -->
		<!-- 前置条件 start -->
		<div class="ui tab segment" data-tab="three">
			<div class="ui mini form front_condition">
				<div class="five wide field">
				    <label>汇聚类型:</label>
				    <select name="convergeType" class="ui search dropdown convergeType">
				      	<option value="">选择</option>
				      	<option value="0">(空)</option>
				      	<option value="AND">And</option>
				      	<option value="XOR">Xor</option>
				    </select>
				</div>
				<div class="hideDiv">
					<div class="fourteen wide two fields">
						<div class="four wide field">
	                	  	<select name="voteModel" class="ui search dropdown voteMode">
	      						<option value="">请选择</option>
	      						<option value="0">(空)</option>
	      						<option value="toupiao">投票模式</option>
							</select>
	                	</div>
	                	<div class="five wide field">
						    <input type="text" name="voteText" placeholder="">
						</div>
					</div>
				</div>
				<div class="hideDiv">
					<div class="inline fields">
		              	<label for="isCreateNew_radio">多次进入:</label>
		              	<div class="field">
		              	  	<div class="ui radio checkbox">
		              	  	  	<input type="radio" name="isCreateNew_radio" tabindex="true" class="hidden">
		              	  	  	<label>是</label>
		              	  	</div>
		              	</div>
		              	<div class="field">
		              	  	<div class="ui radio checkbox">
		              	  	  	<input type="radio" name="isCreateNew_radio" tabindex="false" class="hidden">
		              	  	  	<label>否</label>
		              	  	</div>
		              	</div>
		              	<input type="hidden" name="isCreateNew" value="">
		            </div>
	            </div>
			</div>
		</div><!-- 前置条件 end -->
		<!-- 后置条件 start -->
		<div class="ui tab segment" data-tab="four">
			<div class="ui mini form post_condition">
				<div class="five wide field">
				    <label>转出类型:</label>
				    <select class="ui search dropdown">
				      	<option value="">选择</option>
				      	<option value="And">And</option>
				      	<option value="Xor">Xor</option>
				    </select>
				</div>
				<div class="ui horizontal divider">选择目标活动</div>
				<div class="ui middle aligned list">

				</div>
				<div class="ui top attached tabular mini menu">
		    	  	<a class="active item" data-tab="four/a">转移信息</a>
		    	  	<a class="item" data-tab="four/b">条件设置</a>
		    	  	<a class="item" data-tab="four/c">事件</a>
		    	</div>
		    	<div class="ui bottom attached active tab segment" data-tab="four/a">
					<div class="ui mini form">
						<div class="fields">
						    <div class="four wide field">
						      <label>ID:</label>
						      <input type="text" name="edgeId" placeholder="ID">
						    </div>
						    <div class="four wide field">
						      <label>名称:</label>
						      <input type="text" name="edgeName" placeholder="名称">
						    </div>
						    <div class="four wide field">
							    <label>来自:</label>
							    <input type="text" name="source" placeholder="来自" disabled="disabled">
							</div>
							<div class="four wide field">
							    <label>到:</label>
							    <input type="text" name="target" placeholder="到" disabled="disabled">
							</div>
						</div>
						
						<div class="ui divider"></div>
						
						<div class="field">
		    			  	<label>描述：</label>
		    			  	<textarea name="description" rows="2"></textarea>
		    			</div>
						<div class="ui horizontal divider">扩展属性集</div>
		    			<div class="ui mini form grid transferInf_extended_attr">
						  	<div class="computer only row">
						  		<div class="twelve wide tablet computer column content-div">
						  			<table class="ui blue sortable selectable celled striped compact table">
										<thead>
											<tr>
												<th class="one wide">选择</th>
												<th class="two wide">名</th>
												<th class="two wide">值</th>
											</tr>
										</thead>
										<tbody>
											
										</tbody>
									</table>
						  		</div>
						    	<div class="three wide column">
						    		<div class="ui vertical">
								    	<button class="ui positive basic mini button extendAttrAddBtn"><i class="icon plus"></i> 添 加</button>
										<button class="ui primary basic mini button extendAttrEditBtn"><i class="icon write"></i> 编 辑</button>
										<button class="ui negative basic mini button extendAttrDelBtn"><i class="icon remove"></i> 删 除</button>
								  	</div>
						    	</div>
						  	</div>
						</div>
		    			
					</div>
		    	</div>
		    	<div class="ui bottom attached tab segment" data-tab="four/b">
		    		<div class="ui mini form">
			    		<div class="inline fields">
							<div class="five wide field">
							    <label>类型:</label>
							    <select name="conditype" class="ui search dropdown">
							      	<option value="">选择</option>
							      	<option value="0">(空)</option>
							      	<option value="OTHERWISE">其它</option>
							      	<option value="EXCEPTION">异常</option>
							      	<option value="WORKFLOWBEAN">按业务对象转移</option>
							      	<option value="CONDITION">条件</option>
							      	<option value="TACHE">环节名称转移</option>
							      	<option value="USERDEFINE">用户自定义</option>
							      	<option value="DEFAULTEXCEPTION">缺省异常</option>
							      	<option value="CUSTOM">自定义转移</option>
							    </select>
							</div>
			    		</div>
			    		<!-- 条件设置-类型-异常 -->
						<div class="myitem hideDiv exceptionDiv">
							<div class="five wide field">
							    <label>请选择异常:</label>
							    <select name="" class="ui search dropdown">
							      	<option value="">请选择异常</option>
							      	<option value="0">(空)</option>
							    </select>
							</div>
			            </div>
			            <!-- 条件设置-类型-按业务对象转移 -->
			            <div class="myitem hideDiv workflowbeanDiv">
				            <div class="fields">
								<div class="five wide field">
								    <label>业务对象:</label>
								    <select name="" class="ui search dropdown">
								      	<option value="">请选择业务对象</option>
								      	<option value="0">(空)</option>
								      	<option value="1">发送人</option>
								      	<option value="2">创建人</option>
								    </select>
								</div>
								<div class="five wide field">
								    <label>默认字段:</label>
								    <select name="" class="ui search dropdown">
								      	<option value="0">默认</option>
								    </select>
								</div>
							</div>
							<button class="ui positive basic mini button _addBtn"><i class="icon plus"></i> 增 加 条 件</button>
							<button class="ui negative basic mini button _removeBtn"><i class="icon remove"></i> 删 除 条 件</button>
							<div class="ui divider"></div>
					        <div class="ui grid content-div business_obj">
							  	<div class="computer only row">
							  		<div class="tablet computer column">
							  			<table class="ui blue sortable selectable celled striped compact table">
							  				<thead>
												<tr>
													<th class="two wide">编号</th>
													<th class="two wide">业务对象</th>
													<th class="two wide">参数字段</th>
													<th class="two wide">方法</th>
													<th class="two wide">运算符1</th>
													<th class="two wide">参考值1</th>
													<th class="two wide">关系</th>
													<th class="two wide">运算符2</th>
													<th class="two wide">参考值2</th>
													<th class="two wide">返回类型</th>
												</tr>
											</thead>
											<tbody>
												
											</tbody>
										</table>
							  		</div>
							  	</div>
							</div>	
							<div class="field">
								<div class="two fields">
									<div class="seven wide field">
				            	   		<input type="text" placeholder="整体关系">			
				            	   	</div>
				            	   	<div class="five wide field">
										<button class="ui facebook mini button definitionBtn"><i class="write icon"></i>关系设置</button>
				            	   	</div>
				            	</div>
				            </div>
			            </div>
			            <!-- 条件设置-类型-条件 -->
			            <div class="myitem hideDiv conditionDiv">
			            	<div class="ui horizontal divider">字段条件</div>
			            	<div class="inline fields">
								<div class="five wide field">
								    <label>字段:</label>
								    <select name="" class="ui search dropdown">
								      	<option value="">请选择</option>
								      	<option value="0">(空)</option>
								      	<option value="1">sourceReferenceId</option>
								      	<option value="2">formId</option>
								      	<option value="3">nextActivityName</option>
								      	<option value="4">formType</option>
								    </select>
								</div>
			            		<div class="five wide field">
								    <label>条件1:</label>
								    <select name="" class="ui search dropdown">
								      	<option value="">请选择</option>
								      	<option value="0">(空)</option>
								    </select>
								</div>
								<div class="five wide field">
								    <label>参考值1:</label>
								    <input type="text" placeholder="参考值">
								</div>
			            	</div>
			            	<div class="inline fields">
								<div class="five wide field">
								    <label>关系:</label>
								    <select name="" class="ui search dropdown">
								      	<option value="1">并且</option>
								      	<option value="2">或者</option>
								    </select>
								</div>
			            		<div class="five wide field">
								    <label>条件2:</label>
								    <select name="" class="ui search dropdown">
								      	<option value="">请选择</option>
								      	<option value="0">(空)</option>
								    </select>
								</div>
								<div class="five wide field">
								    <label>参考值2:</label>
								    <input type="text" placeholder="参考值">
								</div>
			            	</div>
			            	<button class="ui positive basic mini button _addBtn"><i class="icon plus"></i> 增 加 条 件</button>
							<button class="ui negative basic mini button _removeBtn"><i class="icon remove"></i> 删 除 条 件</button>
							<div class="ui divider"></div>
					        <div class="ui grid content-div business_obj">
							  	<div class="computer only row">
							  		<div class="tablet computer column">
							  			<table class="ui blue sortable selectable celled striped compact table">
							  				<thead>
												<tr>
													<th class="three wide">字段</th>
													<th class="three wide">条件1</th>
													<th class="three wide">参考值1</th>
													<th class="three wide">关系</th>
													<th class="three wide">条件2</th>
													<th class="three wide">参考值2</th>
													<th class="three wide">类型</th>
												</tr>
											</thead>
											<tbody>
												
											</tbody>
										</table>
							  		</div>
							  	</div>
							</div>
			            </div>
			            <!-- 条件设置-类型-用户自定义 -->
						<div class="myitem hideDiv tacheDiv">
							<div class="inline fields">	
								<div class="five wide field">
								    <label>条件:</label>
								    <input type="text" placeholder="条件">
								</div>
							</div>
			            </div>

					</div>
		    	</div>
		    	<div class="ui bottom attached tab segment" data-tab="four/c">
		    		<div class="ui mini form">
						<div class="five wide field">
						    <label>任务委派规则:</label>
						    <select name="transitionEventType" class="ui search dropdown">
						      	<option value="">选择</option>
						      	<option value="transitionScript">脚本类型</option>
						      	<option value="transitionClass">程序类型</option>
						    </select>
						</div>
						<div class="five wide field">
						    <label>转移事件:</label>
						    <input type="text" name="transitionEvent" placeholder="转移事件">
						</div>
					</div>
		    	</div>
			</div>
		</div><!-- 后置条件 end -->
		<!-- 扩展属性集 start -->
		<div class="ui tab segment" data-tab="five">
			<div class="ui mini form grid extended_attr">
			  	<div class="computer only row">
			  		<div class="twelve wide tablet computer column">
			  			<table class="ui blue sortable selectable celled striped compact table">
							<thead>
								<tr>
									<th class="one wide">选择</th>
									<th class="two wide">名</th>
									<th class="two wide">值</th>
								</tr>
							</thead>
							<tbody>
								
							</tbody>
						</table>
			  		</div>
			    	<div class="three wide column">
			    		<div class="ui vertical">
					    	<button class="ui positive basic mini button extendAttrAddBtn"><i class="icon plus"></i> 添 加</button>
							<button class="ui primary basic mini button extendAttrEditBtn"><i class="icon write"></i> 编 辑</button>
							<button class="ui negative basic mini button extendAttrDelBtn"><i class="icon remove"></i> 删 除</button>
					  	</div>
			    	</div>
			  	</div>
			</div>
		</div><!-- 扩展属性集 end -->
		<!-- 超时限制 start-->
		<div class="ui tab segment" data-tab="six">
			<div class="ui mini form timeout_limit">
				<div class="five wide field">
				    <label>限制时间:</label>
				    <input type="text" name="limitTime" placeholder="限制时间">
				</div>
				<div class="five wide field">
    				<label>到达限制时间执行代理:</label>
                	<select name="warnAgentClassName" class="ui search dropdown">
      					<option value="">请选择</option>
      					<option value="">(空)</option>
      					<option value="workflow.sendNext">自动提交</option>
      					<option value="workflow.mailParty">邮件通知参与者</option>
      					<option value="workflow.mailPartyLeader">邮件通知参与者领导</option>
					</select>      					
                </div>
                <div class="five wide field">
				    <label>警告时间:</label>
				    <input type="text" name="warnTime" placeholder="警告时间">
				</div>
				<div class="five wide field">
    				<label>到达警告时间执行代理:</label>
                	<select name="limitAgentClassName" class="ui search dropdown">
      					<option value="">请选择</option>
      					<option value="">(空)</option>
      					<option value="workflow.sendNext">自动提交</option>
      					<option value="workflow.mailParty">邮件通知参与者</option>
      					<option value="workflow.mailPartyLeader">邮件通知参与者领导</option>
					</select>      					
                </div>
                <div class="ui horizontal divider">最终期限集</div>
                <div class="ui grid timeout_limit_grid">
				  	<div class="computer only row">
				  		<div class="twelve wide tablet computer column content-div">
				  			<table class="ui blue sortable selectable celled striped compact table">
								<thead>
									<tr>
										<th>持续时间</th>
									</tr>
								</thead>
								<tbody>
									
								</tbody>
							</table>
				  		</div>
				    	<div class="three wide column">
				    		<div class="ui vertical">
						    	<button class="ui positive basic mini button timeoutLimitAddBtn"><i class="icon plus"></i> 增 加</button>
								<button class="ui primary basic mini button timeoutLimitEditBtn"><i class="icon write"></i> 编 辑</button>
								<button class="ui negative basic mini button timeoutLimitRemoveBtn"><i class="icon remove"></i> 移 走</button>
						  	</div>
				    	</div>
				  	</div>
				</div>
			</div>
		</div><!-- 超时限制 end-->
		<!-- 高级 start-->
		<div class="ui tab segment" data-tab="seven">
			<div class="ui mini form highLevel">
				<div class="five wide field">
				    <label>结束规则:</label>
				    <input type="text" name="finishRule" placeholder="结束规则">
				</div>
				<div class="five wide field">
				    <label>建立事件:</label>
				    <input type="text" name="activityCreateEvent" placeholder="建立事件">
				</div>
				<div class="five wide field">
				    <label>结束事件:</label>
				    <input type="text" name="activityEndEvent" placeholder="结束事件">
				</div>
			</div>
		</div><!-- 高级 end-->
		<!-- 监控信息 start -->
		<div class="ui tab segment" data-tab="eight">
			<div class="ui mini form monitorinf">
				<div class="five wide field">
    				<label>是否为临时监控:</label>
                	<select name="isResponsibleTem" class="ui search dropdown">
      					<option value="true">是</option>
      					<option value="false">否</option>
					</select>      					
                </div>
                <div class="ui grid monitorinf_grid">
				  	<div class="computer only row">
				  		<div class="twelve wide tablet computer column content-div">
				  			<table class="ui blue sortable selectable celled striped compact table">
				  				<thead>
				  					<tr>
				  						<th>监控者</th>
				  					</tr>
				  				</thead>
								<tbody>
									
								</tbody>
							</table>
				  		</div>
				    	<div class="three wide column">
				    		<div class="ui vertical">
						    	<button class="ui positive basic mini button monitorinfAddBtn"><i class="icon plus"></i> 增 加</button>
								<button class="ui primary basic mini button monitorinfEditBtn"><i class="icon write"></i> 编 辑</button>
								<button class="ui negative basic mini button monitorinfRemoveBtn"><i class="icon remove"></i> 删 除</button>
						  	</div>
				    	</div>
				  	</div>
				</div>
			</div>
		</div><!-- 监控信息 end -->
	  	<div class="actions inverted">
			<button class="ui right floated green inverted ok button">
				<i class="checkmark icon"></i>确定
			</button>
			<button class="ui right floated red inverted cancel button">
				<i class="remove icon"></i>取消
			</button>
			<div class="clearfix"></div>
		</div>
		<div class="clearfix"></div>
	</div><!-- 属性弹出层 end -->
	<!-- 活动属性-常规-定义 -->
	<div class="ui coupled small modal tab conventional_definition">
  	  	<div class="ui pointing secondary menu">
		  	<a class="item active" data-tab="definition_1">常规</a>
		  	<a class="item" data-tab="definition_2">高级</a>
		</div>
		<div class="ui tab segment active" data-tab="definition_1">
			<div class="ui mini form">
			    <div class="five wide field">
			      	<label>ID:</label>
			      	<input name="conventional_definition_id" type="text" placeholder="ID">
			    </div>
			    <div class="five wide field">
			      	<label>名称:</label>
			      	<input name="conventional_definition_name" type="text" placeholder="名称">
			    </div>
				<div class="field">
    			  	<label>描述：</label>
    			  	<textarea name="conventional_definition_description" rows="2"></textarea>
    			</div>
			    <div class="five wide field">
				    <label>自定义参与者:</label>
				    <input name="conventional_definition_participant" type="text" placeholder="自定义参与者">
				</div>
				<input type="hidden" class="hidden" name="conventional_def_operate" value="">
			</div>
		</div>
		<div class="ui tab segment" data-tab="definition_2">
			<div class="ui top attached tabular mini menu">
	    	  	<a class="active item" data-tab="definition_2/a">一般</a>
	    	  	<a class="item" data-tab="definition_2/b">创建人</a>
	    	  	<a class="item" data-tab="definition_2/c">发送人</a>
	    	  	<a class="item" data-tab="definition_2/d">前一环节创建人</a>
	    	  	<a class="item" data-tab="definition_2/e">历史环节处理人</a>
	    	</div>
	    	<div class="ui bottom attached active tab segment" data-tab="definition_2/a">
				<div class="ui mini form">
					<div class="fields">
						<div class="five wide field">
		    				<label>类型:</label>
		                	<select name="definition_type" class="ui search dropdown">
		      					<option value="">请选择</option>
		      					<option value="1">部门【部门】</option>
		      					<option value="2">部门【人】</option>
		      					<option value="3">部门【默认】</option>
		      					<option value="4">部门【领导】</option>
		      					<option value="5">角色【人】</option>
		      					<option value="6">角色【角色】</option>
		      					<option value="7">所有人【人】</option>
							</select>      					
		                </div>
		                <div class="five wide field">
					      	<label>名称:</label>
					      	<input type="text" name="definition_name" placeholder="名称">
					    </div>
					    <div class="five wide field">
					      	<label>附加参数1:</label>
					      	<input type="text" name="definition_param1" placeholder="附加参数">
					    </div>
					    <div class="five wide field">
					    	<label>附加参数2:</label>
						    <input type="text" name="definition_param2" placeholder="附加参数">
						</div>	
		            </div>
				</div>
	    	</div>
	    	<div class="ui bottom attached tab segment" data-tab="definition_2/b">
	    		<div class="ui mini form">
					<div class="fields">
						<div class="five wide field">
		    				<label>类型:</label>
		                	<select name="definition_type" class="ui search dropdown">
		      					<option value="">请选择</option>
		      					<option value="1">创建人本人</option>
		      					<option value="2">创建人领导</option>
		      					<option value="3">创建人下属</option>
		      					<option value="4">创建人部门人员</option>
		      					<option value="5">创建人部门领导</option>
							</select>      					
		                </div>
					    <div class="five wide field">
					      	<label>附加参数1:</label>
					      	<input type="text" name="definition_param1" placeholder="附加参数">
					    </div>
					    <div class="five wide field">
					    	<label>附加参数2:</label>
						    <input type="text" name="definition_param2" placeholder="附加参数">
						</div>	
		            </div>
				</div>
	    	</div>
	    	<div class="ui bottom attached tab segment" data-tab="definition_2/c">
	    		<div class="ui mini form">
					<div class="fields">
						<div class="five wide field">
		    				<label>类型:</label>
		                	<select name="definition_type" class="ui search dropdown">
		      					<option value="">请选择</option>
		      					<option value="1">发送人本人</option>
		      					<option value="2">发送人领导</option>
		      					<option value="3">发送人下属</option>
		      					<option value="4">发送人部门人员</option>
		      					<option value="5">发送人部门领导</option>
							</select>      					
		                </div>
					    <div class="five wide field">
					      	<label>附加参数1:</label>
					      	<input type="text" name="definition_param1" placeholder="附加参数">
					    </div>
					    <div class="five wide field">
					    	<label>附加参数2:</label>
						    <input type="text" name="definition_param2" placeholder="附加参数">
						</div>	
		            </div>
				</div>
	    	</div>
	    	<div class="ui bottom attached tab segment" data-tab="definition_2/d">
	    		<div class="ui mini form">
					<div class="fields">
						<div class="five wide field">
		    				<label>类型:</label>
		                	<select name="definition_type" class="ui search dropdown">
		      					<option value="">请选择</option>
		      					<option value="1">前一环节创建人本人</option>
		      					<option value="2">前一环节创建人上级</option>
							</select>      					
		                </div>
					    <div class="five wide field">
					      	<label>附加参数1:</label>
					      	<input type="text" name="definition_param1" placeholder="附加参数">
					    </div>
					    <div class="five wide field">
					    	<label>附加参数2:</label>
						    <input type="text" name="definition_param2" placeholder="附加参数">
						</div>	
		            </div>
				</div>
	    	</div>
	    	<div class="ui bottom attached tab segment" data-tab="definition_2/e">
	    		<div class="ui mini form">
					<div class="fields">
						<div class="five wide field">
		    				<label>类型:</label>
		                	<select name="definition_type" class="ui search dropdown">
		      					<option value="">请选择</option>
		      					<option value="1">处理人本人</option>
		      					<option value="2">处理人上级</option>
		      					<option value="3">处理人下属</option>
		      					<option value="4">处理人部门人员</option>
		      					<option value="5">处理人部门领导</option>
							</select>      					
		                </div>
		                <div class="five wide field">
		    				<label>名称:</label>
		                	<select name="definition_name" class="ui search dropdown">
		      					<option value="1">普通活动</option>
							</select>      					
		                </div>
					    <div class="five wide field">
					      	<label>附加参数1:</label>
					      	<input type="text" name="definition_param1" placeholder="附加参数">
					    </div>
					    <div class="five wide field">
					    	<label>附加参数2:</label>
						    <input type="text" name="definition_param2" placeholder="附加参数">
						</div>	
		            </div>
				</div>
	    	</div>
	    	<button class="ui positive basic mini button definition_addBtn"><i class="icon plus"></i> 增 加 条 件</button>
			<button class="ui negative basic mini button definition_removeBtn"><i class="icon remove"></i> 删 除 条 件</button>
			<div class="ui divider"></div>
	        <div class="ui grid definition_condition content-div">
			  	<div class="computer only row">
			  		<div class="tablet computer column">
			  			<table class="ui blue sortable selectable celled striped compact table">
			  				<thead>
								<tr>
									<th class="four wide">类别</th>
									<th class="four wide">类型</th>
									<th class="three wide">名称</th>
									<th class="three wide">参数1</th>
									<th class="three wide">参数2</th>
									<th class="three wide">条件</th>
								</tr>
							</thead>
							<tbody>
								
							</tbody>
						</table>
			  		</div>
			  	</div>
			</div>
		</div>
		<div class="actions inverted segment">
			<button class="ui right floated green inverted ok button">
				<i class="checkmark icon"></i>确定
			</button>
			<button class="ui right floated red inverted cancel button">
				<i class="remove icon"></i>取消
			</button>
		</div>
  	</div>
  	<!-- 活动属性-工具-添加 -->
	<div class="ui coupled small modal tab segment tool_add">
  	  	<div class="ui mini form">
  	  		<div class="fields">
  	  			<div class="five wide field">
	               	<label>类型:</label>
	                <select class="ui search dropdown">
		      			<option value="">请选择</option>
		      			<option value="1">应用</option>
		      			<option value="2">程序</option>
					</select>      					
	            </div>
	            <div class="ten wide field">
	    			<label>应用:</label>
					<div class="two fields">
						<div class="field">
	               		  	<select class="ui search dropdown">
	      						<option value="">请选择</option>
	      						<option value="1">修改数据</option>
	      						<option value="2">发送邮件</option>
	      						<option value="3">执行其它toolagent</option>
	      						<option value="4">获取数据</option>
							</select>      					
	               		</div>
	               		<div class="five wide field">
							<button class="ui facebook mini button definitionBtn"><i class="write icon"></i>定义</button>
	               		</div>
	               	</div>
	            </div>
  	  		</div>
            <div class="ui horizontal divider">实际参数集</div>
            <div class="ui grid">
    		  	<div class="row">
			  		<div class="ten wide tablet column">
			  			<table class="ui blue sortable selectable celled striped compact table">
							<thead>
								<tr>
									<th class="one wide">选择</th>
									<th class="two wide">应用</th>
									<th class="two wide">类型</th>
								</tr>
							</thead>
							<tbody>
								<tr id="tr1">
									<td>
										<div class="ui radio checkbox">
											<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
										</div>
									</td>
									<td>1111111</td>
									<td>Aell</td>
								</tr>
							</tbody>
						</table>
			  		</div>
			    	<div class="three wide column">
			    		<div class="ui vertical">
					    	<button class="ui positive basic mini button actualParametersAdd1"><i class="icon plus"></i> 添 加</button>
							<button class="ui primary basic mini button"><i class="icon write"></i> 编 辑</button>
							<button class="ui negative basic mini button"><i class="icon remove"></i> 删 除</button>
					  	</div>
			    	</div>
			  	</div>
    		</div>
            <div class="ui divider"></div>
			<div class="field">
    		  	<label>描述：</label>
    		  	<textarea rows="2"></textarea>
    		</div>
			<div class="ui horizontal divider">扩展属性集</div>
			<div class="ui grid">
    		  	<div class="row">
			  		<div class="ten wide tablet computer column">
			  			<table class="ui blue sortable selectable celled striped compact table">
							<thead>
								<tr>
									<th class="one wide">选择</th>
									<th class="two wide">应用</th>
									<th class="two wide">类型</th>
								</tr>
							</thead>
							<tbody>
								<tr id="tr1">
									<td>
										<div class="ui radio checkbox">
											<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
										</div>
									</td>
									<td>1111111</td>
									<td>Aell</td>
								</tr>
							</tbody>
						</table>
			  		</div>
			    	<div class="three wide column">
			    		<div class="ui vertical">
					    	<button class="ui positive basic mini button toolAddBtn actualParametersAdd2"><i class="icon plus"></i> 添 加</button>
							<button class="ui primary basic mini button showDialog"><i class="icon write"></i> 编 辑</button>
							<button class="ui negative basic mini button"><i class="icon remove"></i> 删 除</button>
					  	</div>
			    	</div>
			  	</div>
    		</div>
			<div class="ui divider"></div>
    		<div class="actions inverted segment">
				<button class="ui right floated green inverted ok button">
					<i class="checkmark icon"></i>确定
				</button>
				<button class="ui right floated red inverted cancel button">
					<i class="remove icon"></i>取消
				</button>
			</div>		
		</div>
  	</div>
  	<!-- 工具-添加-添加 -->
	<div class="ui coupled small modal tab segment actualParametersDiv">
  	  	<div class="ui mini form">
  	  		<div class="field">
    			<label>实际参数:</label>
				<div class="two fields">
					<div class="five wide field">
            	   		<select class="ui search dropdown">
      						<option value="">请选择</option>
      						<option value="1">sourceReferenceld</option>
      						<option value="2">formId</option>
      						<option value="2">nextActivityInfo</option>
      						<option value="2">nextActivityName</option>
      						<option value="2">formType</option>
						</select>      					
            	   	</div>
            	   	<div class="five wide field">
						<button class="ui facebook mini button definitionBtn"><i class="write icon"></i>定义</button>
            	   	</div>
            	</div>
            </div>
  	  	</div>
    	<div class="actions inverted segment">
			<button class="ui right floated green inverted ok button">
				<i class="checkmark icon"></i>确定
			</button>
			<button class="ui right floated red inverted cancel button">
				<i class="remove icon"></i>取消
			</button>
		</div>		
  	</div>
  	<!-- 工具-添加-添加-定义 -->
	<div class="ui coupled small modal tab segment toolAddDefinition">
  		<div class="header">工作流相关数据集</div>
  		<div class="ui mini form grid">
		  	<div class="computer only row">
		  		<div class="twelve wide tablet computer column">
		  			<table class="ui blue sortable selectable celled striped compact table">
						<thead>
							<tr>
								<th class="one wide">选择</th>
								<th class="two wide">ID</th>
								<th class="two wide">名称</th>
								<th class="two wide">数据类型</th>
							</tr>
						</thead>
						<tbody>
							<tr id="tr1">
								<td>
									<div class="ui radio checkbox">
										<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
									</div>
								</td>
								<td>1111111</td>
								<td>Aell</td>
								<td>Aell</td>
							</tr>
							<tr>
								<td>
									<div class="ui radio checkbox">
										<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
									</div>
								</td>
								<td>3333333</td>
								<td>Cell</td>
								<td>Cell</td>
							</tr>
						</tbody>
					</table>
		  		</div>
		    	<div class="three wide column">
		    		<div class="ui vertical">
				    	<button class="ui positive basic mini button toolAddDefinitionAddBtn"><i class="icon plus"></i> 添 加</button>
						<button class="ui primary basic mini button"><i class="icon write"></i> 编 辑</button>
						<button class="ui negative basic mini button"><i class="icon remove"></i> 删 除</button>
				  	</div>
		    	</div>
		  	</div>
		</div>
		<div class="ui divider"></div>
    	<div class="actions inverted segment">
			<button class="ui right floated green inverted ok button">
				<i class="checkmark icon"></i>确定
			</button>
			<button class="ui right floated red inverted cancel button">
				<i class="remove icon"></i>取消
			</button>
		</div>		
	</div>
	<!-- 工具-添加-添加-定义-添加 -->
	<div class="ui coupled large modal tab segment toolAddDefinitionAdd">
		<i class="close icon"></i>
		<div class="ui mini form">
  	  		<div class="fields">
  	  			<div class="five wide field">
				  	<label>ID:</label>
				  	<input type="text" placeholder="ID">
				</div>
	            <div class="five wide field">
				  	<label>名称:</label>
				  	<input type="text" placeholder="名称">
				</div>
				 <div class="five wide field">
				  	<label>初始值:</label>
				  	<input type="text" placeholder="初始值">
				</div>
				 <div class="five wide field">
				  	<label>长度:</label>
				  	<input type="text" placeholder="长度">
				</div>
  	  		</div>
  	  		<div class="five wide inline field">
	            <label>是排列:</label>
	            <select class="ui search dropdown">
		      		<option value="">请选择</option>
		      		<option value="0">(空)</option>
		      		<option value="1">是</option>
		      		<option value="2">否</option>
				</select>      					
	        </div>
            <div class="ui horizontal divider">类型</div>
            <div class="five wide inline field">
	            <label>类型:</label>
	            <select class="ui search dropdown">
		      		<option value="">请选择</option>
		     		<option value="1">Declared type</option>
		     		<option value="2">Enumeration type</option>
		     		<option value="3">List type</option>
		     		<option value="4">Record type</option>
		     		<option value="5">Schema type</option>
		     		<option value="6">Union type</option>
		     		<option value="7">基本类型</option>
		     		<option value="8">外部参考</option>
		     		<option value="9">数组类型</option>
				</select>      					
	        </div>

    		<div class="field">
    		  	<label>描述：</label>
    		  	<textarea rows="1"></textarea>
    		</div>
			<div class="ui horizontal divider">扩展属性集</div>
			<div class="ui grid">
    		  	<div class="row">
			  		<div class="ten wide tablet computer column">
			  			<table class="ui blue sortable selectable celled striped compact table">
							<thead>
								<tr>
									<th class="one wide">选择</th>
									<th class="two wide">应用</th>
									<th class="two wide">类型</th>
								</tr>
							</thead>
							<tbody>
								<tr id="tr1">
									<td>
										<div class="ui radio checkbox">
											<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
										</div>
									</td>
									<td>1111111</td>
									<td>Aell</td>
								</tr>
							</tbody>
						</table>
			  		</div>
			    	<div class="three wide column">
			    		<div class="ui vertical">
					    	<button class="ui positive basic mini button"><i class="icon plus"></i> 添 加</button>
							<button class="ui primary basic mini button showDialog"><i class="icon write"></i> 编 辑</button>
							<button class="ui negative basic mini button"><i class="icon remove"></i> 删 除</button>
					  	</div>
			    	</div>
			  	</div>
    		</div>

			<div class="ui divider"></div>
    		<div class="actions inverted segment">
				<button class="ui right floated green inverted ok button">
					<i class="checkmark icon"></i>确定
				</button>
				<button class="ui right floated red inverted cancel button">
					<i class="remove icon"></i>取消
				</button>
			</div>		
		</div>
	</div>

  	<!-- 工具-添加-定义 -->
  	<div class="ui coupled small modal tab segment tooldefinition">
  		<div class="header">应用集-定义</div>
  		<div class="ui horizontal divider"></div>
  		<div class="ui mini form grid">
		  	<div class="computer only row">
		  		<div class="twelve wide tablet computer column">
		  			<table class="ui blue sortable selectable celled striped compact table">
						<thead>
							<tr>
								<th class="one wide">选择</th>
								<th class="two wide">ID</th>
								<th class="two wide">名称</th>
							</tr>
						</thead>
						<tbody>
							<tr id="tr1">
								<td>
									<div class="ui radio checkbox">
										<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
									</div>
								</td>
								<td>1111111</td>
								<td>Aell</td>
							</tr>
							<tr>
								<td>
									<div class="ui radio checkbox">
										<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
									</div>
								</td>
								<td>2222222</td>
								<td>Bell</td>
							</tr>
							<tr>
								<td>
									<div class="ui radio checkbox">
										<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
									</div>
								</td>
								<td>3333333</td>
								<td>Cell</td>
							</tr>
						</tbody>
					</table>
		  		</div>
		    	<div class="three wide column">
		    		<div class="ui vertical">
				    	<button class="ui positive basic mini button tooldefinitionAddBtn"><i class="icon plus"></i> 添 加</button>
						<button class="ui primary basic mini button"><i class="icon write"></i> 编 辑</button>
						<button class="ui negative basic mini button"><i class="icon remove"></i> 删 除</button>
				  	</div>
		    	</div>
		  	</div>
		</div>
		<div class="ui horizontal divider"></div>
    	<div class="actions inverted segment">
			<button class="ui right floated green inverted ok button">
				<i class="checkmark icon"></i>确定
			</button>
			<button class="ui right floated red inverted cancel button">
				<i class="remove icon"></i>取消
			</button>
		</div>		
	</div>
	<!-- 工具-添加-定义-添加 -->
	<div class="ui coupled large modal tab segment tooldefinition_add">
		<div class="ui mini form">
  	  		<div class="fields">
  	  			<div class="five wide field">
				  	<label>ID:</label>
				  	<input type="text" placeholder="ID">
				</div>
	            <div class="five wide field">
				  	<label>名称:</label>
				  	<input type="text" placeholder="名称">
				</div>
  	  		</div>
  	  		<div class="field">
    		  	<label>描述：</label>
    		  	<textarea rows="1"></textarea>
    		</div>
            <div class="ui horizontal divider">选择</div>
            <div class="five wide inline field">
	            <label>类型:</label>
	            <select class="ui search dropdown">
		      		<option value="">请选择</option>
		      		<option value="1">外部参考</option>
		      		<option value="2">形势参数集</option>
				</select>      					
	        </div>
            <div class="ui grid">
    		  	<div class="row">
			  		<div class="ten wide tablet column">
			  			<table class="ui blue sortable selectable celled striped compact table">
							<thead>
								<tr>
									<th class="one wide">ID</th>
									<th class="two wide">索引</th>
									<th class="two wide">方式</th>
									<th class="two wide">数据类型</th>
								</tr>
							</thead>
							<tbody>
								<tr id="tr1">
									<td>1111111</td>
									<td>2222222</td>
									<td>3333333</td>
									<td>4444444</td>
								</tr>
							</tbody>
						</table>
			  		</div>
			    	<div class="three wide column">
			    		<div class="ui vertical">
					    	<button class="ui positive basic mini button tooldefinitionAddAddBtn"><i class="icon plus"></i> 添 加</button>
							<button class="ui primary basic mini button showDialog"><i class="icon write"></i> 编 辑</button>
							<button class="ui negative basic mini button"><i class="icon remove"></i> 删 除</button>
					  	</div>
			    	</div>
			  	</div>
    		</div>
            <div class="ui divider"></div>
			<div class="ui horizontal divider">扩展属性集</div>
			<div class="ui grid">
    		  	<div class="row">
			  		<div class="ten wide tablet computer column">
			  			<table class="ui blue sortable selectable celled striped compact table">
							<thead>
								<tr>
									<th class="one wide">选择</th>
									<th class="two wide">应用</th>
									<th class="two wide">类型</th>
								</tr>
							</thead>
							<tbody>
								<tr id="tr1">
									<td>
										<div class="ui radio checkbox">
											<input type="radio" name="selectAnswer" tabindex="0" class="hidden">
										</div>
									</td>
									<td>1111111</td>
									<td>Aell</td>
								</tr>
							</tbody>
						</table>
			  		</div>
			    	<div class="three wide column">
			    		<div class="ui vertical">
					    	<button class="ui positive basic mini button"><i class="icon plus"></i> 添 加</button>
							<button class="ui primary basic mini button showDialog"><i class="icon write"></i> 编 辑</button>
							<button class="ui negative basic mini button"><i class="icon remove"></i> 删 除</button>
					  	</div>
			    	</div>
			  	</div>
    		</div>
			<div class="ui divider"></div>
    		<div class="actions inverted segment">
				<button class="ui right floated green inverted ok button">
					<i class="checkmark icon"></i>确定
				</button>
				<button class="ui right floated red inverted cancel button">
					<i class="remove icon"></i>取消
				</button>
			</div>		
		</div>
	</div>
	<!-- 工具-添加-定义-添加-添加 -->
	<div class="ui coupled small modal tab segment tooldefinition_add_add">
		<div class="ui mini form">
			<div class="five wide field">
		      	<label>ID:</label>
		      	<input type="text" placeholder="ID">
		    </div>
		    <div class="five wide field">
		      	<label>索引:</label>
		      	<input type="text" placeholder="索引">
		    </div>
		    <div class="five wide field">
	            <label>方式:</label>
	            <select class="ui search dropdown">
		     		<option value="">请选择</option>
		     		<option value="1">In</option>
		     		<option value="2">In and Out</option>
		     		<option value="3">Out</option>
				</select>      					
	        </div>
	        <div class="ui horizontal divider">类型</div>
	        <div class="five wide field">
	            <label>类型:</label>
	            <select class="ui search dropdown">
		     		<option value="">请选择</option>
		     		<option value="1">Declared type</option>
		     		<option value="2">Enumeration type</option>
		     		<option value="3">List type</option>
		     		<option value="4">Record type</option>
		     		<option value="5">Schema type</option>
		     		<option value="6">Union type</option>
		     		<option value="7">基本类型</option>
		     		<option value="8">外部参考</option>
		     		<option value="9">数组类型</option>
				</select>      					
	        </div>
		</div>
		<div class="ui divider"></div>
    	<div class="actions inverted segment">
			<button class="ui right floated green inverted ok button">
				<i class="checkmark icon"></i>确定
			</button>
			<button class="ui right floated red inverted cancel button">
				<i class="remove icon"></i>取消
			</button>
		</div>		
	</div>
  	<!-- 工具-添加-扩展属性添加 -->
	<div class="ui coupled small modal tab segment tool_extendAttr_add">
  	  	<div class="ui mini form">
  	  		<div class="fields">
  	  			<div class="five wide field">
			      	<label>名称:</label>
			      	<input name="extendAttr_add_name" type="text" placeholder="名称">
			    </div>
			    <div class="five wide field">
			      	<label>值:</label>
			      	<input name="extendAttr_add_value" type="text" placeholder="值">
			    </div>
  	  		</div>
			<div class="ui divider"></div>
    		<div class="actions inverted segment">
				<button class="ui right floated green inverted ok button">
					<i class="checkmark icon"></i>确定
				</button>
				<button class="ui right floated red inverted cancel button">
					<i class="remove icon"></i>取消
				</button>
			</div>
			<input type="hidden" name="extendAttr_add_operate" value="">		
		</div>
  	</div>
  	<!-- 后置条件-扩展属性-添加 -->
	<div class="ui coupled small modal tab segment postCondition_extendAttr_add">
  	  	<div class="ui mini form">
  	  		<div class="fields">
  	  			<div class="five wide field">
			      	<label>名称:</label>
			      	<input name="extendAttr_add_name" type="text" placeholder="名称">
			    </div>
			    <div class="five wide field">
			      	<label>值:</label>
			      	<input name="extendAttr_add_value" type="text" placeholder="值">
			    </div>
  	  		</div>
			<div class="ui divider"></div>
    		<div class="actions inverted segment">
				<button class="ui right floated green inverted ok button">
					<i class="checkmark icon"></i>确定
				</button>
				<button class="ui right floated red inverted cancel button">
					<i class="remove icon"></i>取消
				</button>
			</div>
			<input type="hidden" name="extendAttr_add_operate" value="">		
		</div>
  	</div>
  	<!-- 活动属性-扩展属性-添加 -->
	<div class="ui coupled small modal tab segment extendAttr_add">
  	  	<div class="ui mini form">
  	  		<div class="fields">
  	  			<div class="five wide field">
			      	<label>名称:</label>
			      	<input name="extendAttr_add_name" type="text" placeholder="名称">
			    </div>
			    <div class="five wide field">
			      	<label>值:</label>
			      	<input name="extendAttr_add_value" type="text" placeholder="值">
			    </div>
  	  		</div>
			<div class="ui divider"></div>
    		<div class="actions inverted segment">
				<button class="ui right floated green inverted ok button">
					<i class="checkmark icon"></i>确定
				</button>
				<button class="ui right floated red inverted cancel button">
					<i class="remove icon"></i>取消
				</button>
			</div>
			<input type="hidden" name="extendAttr_add_operate" value="">		
		</div>
  	</div>
  	<!-- 超时限制-增加 -->
	<div class="ui coupled small modal tab segment timeoutLimit_add">
  	  	<div class="ui mini form">
  	  		<div class="five wide field">
	            <label>执行:</label>
	            <select name="execution" class="ui search dropdown">
		     		<option value="">请选择</option>
		     		<option value="">(空)</option>
		     		<option value="SYNCHR">同步</option>
		     		<option value="ASYNCHR">异步</option>
				</select>      					
	        </div>
  	  		<div class="five wide field">
		      	<label>持续时间:</label>
		      	<input type="text" name="deadlineCondition" placeholder="持续时间">
		    </div>
		    <div class="five wide field">
		      	<label>异常名称:</label>
		      	<input type="text" name="exceptionName" placeholder="异常名称">
		    </div>
		    <input type="hidden" name="timeoutLimit_add_operate" value="">
  	  	</div>
		<div class="ui divider"></div>
    	<div class="actions inverted segment">
			<button class="ui right floated green inverted ok button">
				<i class="checkmark icon"></i>确定
			</button>
			<button class="ui right floated red inverted cancel button">
				<i class="remove icon"></i>取消
			</button>
		</div>		
  	</div>
  	<!-- 监控信息-增加 -->
	<div class="ui coupled small modal tab segment monitorinf_add" parentsModal="prop_layer">
  	  	<div class="ui mini form">
  	  		<div class="field">
    			<label>参与者集:</label>
				<div class="two fields">
					<div class="seven wide field">
            	   		<select name="definition_role" class="ui search disabled dropdown">
      						
						</select>   
						<input type="hidden" name="monitorinf_add_operate" value="">				
            	   	</div>
            	   	<div class="five wide field">
						<button class="ui facebook mini button definitionBtn"><i class="write icon"></i>定义</button>
            	   	</div>
            	</div>
            </div>
  	  	</div>
    	<div class="actions inverted segment">
			<button class="ui right floated green inverted ok button">
				<i class="checkmark icon"></i>确定
			</button>
			<button class="ui right floated red inverted cancel button">
				<i class="remove icon"></i>取消
			</button>
		</div>		
  	</div>
  	<!-- 监控信息-增加-定义 -->
  	<div class="ui coupled small modal tab monitorinfAddDefinition">
  	  	<div class="ui pointing secondary menu">
		  	<a class="item active" data-tab="definition_one">常规</a>
		  	<a class="item" data-tab="definition_two">高级</a>
		</div>
		<div class="ui tab segment active" data-tab="definition_one">
			<div class="ui mini form">
			    <div class="five wide field">
			      	<label>ID:</label>
			      	<input type="text" name="conventional_definition_id" placeholder="ID">
			    </div>
			    <div class="five wide field">
			      	<label>名称:</label>
			      	<input type="text" name="conventional_definition_name" placeholder="名称">
			    </div>
				<div class="field">
    			  	<label>描述：</label>
    			  	<textarea name="conventional_definition_description" rows="2"></textarea>
    			</div>
			    <div class="five wide field">
				    <label>自定义参与者:</label>
				    <input type="text" name="conventional_definition_participant" placeholder="自定义参与者">
				</div>
				<div class="five wide field">
		    		<label>自定义角色:</label>
		            <select name="conventional_definition_role" class="ui search dropdown">
		      			<option value="">请选择</option>
		      			<option value="history">历史参与者</option>
		      			<option value="responsible">监控者</option>
		      			<option value="share">共享</option>
					</select>      					
		        </div>
		        <input type="hidden" class="hidden" name="monitorinf_add_operate" value="">
			</div>
		</div>
		<div class="ui tab segment" data-tab="definition_two">
			<div class="ui top attached tabular mini menu">
	    	  	<a class="active item" data-tab="definition_two/a">一般</a>
	    	  	<a class="item" data-tab="definition_two/b">当前处理人</a>
	    	  	<a class="item" data-tab="definition_two/c">发送人</a>
	    	  	<a class="item" data-tab="definition_two/d">前一环节创建人</a>
	    	</div>
	    	<div class="ui bottom attached active tab segment" data-tab="definition_two/a">
				<div class="ui mini form">
					<div class="fields">
						<div class="five wide field">
		    				<label>类型:</label>
		                	<select name="definition_type" class="ui search dropdown">
		      					<option value="">请选择</option>
		      					<option value="1">部门【部门】</option>
		      					<option value="2">部门【人】</option>
		      					<option value="3">部门【默认】</option>
		      					<option value="4">部门【领导】</option>
		      					<option value="5">角色【人】</option>
		      					<option value="6">角色【角色】</option>
		      					<option value="7">所有人【人】</option>
							</select>      					
		                </div>
		                <div class="five wide field">
					      	<label>名称:</label>
					      	<input name="definition_name" type="text" placeholder="名称">
					    </div>
					    <div class="five wide field">
				    		<label>角色:</label>
				            <select name="definition_role" class="ui search dropdown">
				      			<option value="">请选择</option>
		      					<option value="history">历史参与者</option>
		      					<option value="responsible">监控者</option>
		      					<option value="share">共享</option>
							</select>      					
				        </div>
					    <div class="five wide field">
					      	<label>附加参数1:</label>
					      	<input type="text" name="definition_param1" placeholder="附加参数">
					    </div>
					    <div class="five wide field">
					    	<label>附加参数2:</label>
						    <input type="text" name="definition_param2" placeholder="附加参数">
						</div>	
		            </div>
				</div>
	    	</div>
	    	<div class="ui bottom attached tab segment" data-tab="definition_two/b">
	    		<div class="ui mini form">
					<div class="fields">
						<div class="five wide field">
		    				<label>类型:</label>
		                	<select name="definition_type" class="ui search dropdown">
		      					<option value="">请选择</option>
		      					<option value="1">当前处理人领导</option>
		      					<option value="2">当前处理人部门领导</option>
							</select>      					
		                </div>
		                <div class="five wide field">
				    		<label>角色:</label>
				            <select name="definition_role" class="ui search dropdown">
				      			<option value="">请选择</option>
		      					<option value="history">历史参与者</option>
		      					<option value="responsible">监控者</option>
		      					<option value="share">共享</option>
							</select>      					
				        </div>
					    <div class="five wide field">
					      	<label>附加参数1:</label>
					      	<input type="text" name="definition_param1" placeholder="附加参数">
					    </div>
					    <div class="five wide field">
					    	<label>附加参数2:</label>
						    <input type="text" name="definition_param2" placeholder="附加参数">
						</div>	
		            </div>
				</div>
	    	</div>
	    	<div class="ui bottom attached tab segment" data-tab="definition_two/c">
	    		<div class="ui mini form">
					<div class="fields">
						<div class="five wide field">
		    				<label>类别:</label>
		                	<select name="definition_type" class="ui search dropdown">
		      					<option value="">请选择</option>
		      					<option value="1">发送人本人</option>
		      					<option value="2">发送人领导</option>
		      					<option value="3">发送人下属</option>
		      					<option value="4">发送人部门人员</option>
		      					<option value="5">发送人部门领导</option>
							</select>      					
		                </div>
		                <div class="five wide field">
				    		<label>角色:</label>
				            <select name="definition_role" class="ui search dropdown">
				      			<option value="">请选择</option>
		      					<option value="history">历史参与者</option>
		      					<option value="responsible">监控者</option>
		      					<option value="share">共享</option>
							</select>      					
				        </div>
					    <div class="five wide field">
					      	<label>附加参数1:</label>
					      	<input type="text" name="definition_param1" placeholder="附加参数">
					    </div>
					    <div class="five wide field">
					    	<label>附加参数2:</label>
						    <input type="text" name="definition_param2" placeholder="附加参数">
						</div>	
		            </div>
				</div>
	    	</div>
	    	<div class="ui bottom attached tab segment" data-tab="definition_two/d">
	    		<div class="ui mini form">
					<div class="fields">
						<div class="five wide field">
		    				<label>类别:</label>
		                	<select name="definition_type" class="ui search dropdown">
		      					<option value="">请选择</option>
		      					<option value="1">前一环节创建人本人</option>
		      					<option value="2">前一环节创建人上级</option>
							</select>      					
		                </div>
		                <div class="five wide field">
				    		<label>角色:</label>
				            <select name="definition_role" class="ui search dropdown">
				      			<option value="">请选择</option>
		      					<option value="history">历史参与者</option>
		      					<option value="responsible">监控者</option>
		      					<option value="share">共享</option>
							</select>      					
				        </div>
					    <div class="five wide field">
					      	<label>附加参数1:</label>
					      	<input type="text" name="definition_param1" placeholder="附加参数">
					    </div>
					    <div class="five wide field">
					    	<label>附加参数2:</label>
						    <input type="text" name="definition_param2" placeholder="附加参数">
						</div>	
		            </div>
				</div>
	    	</div>
	    	<button class="ui positive basic mini button monitorinfDefintionAddBtn"><i class="icon plus"></i> 增 加 条 件</button>
			<button class="ui negative basic mini button monitorinfDefintionRemoveBtn"><i class="icon remove"></i> 删 除 条 件</button>
			<div class="ui divider"></div>
	        <div class="ui grid definition_condition content-div">
			  	<div class="computer only row">
			  		<div class="tablet computer column">
			  			<table class="ui blue sortable selectable celled striped compact table">
			  				<thead>
								<tr>
									<th class="four wide">类别</th>
									<th class="four wide">类型</th>
									<th class="three wide">名称</th>
									<th class="three wide">参数1</th>
									<th class="three wide">参数2</th>
									<th class="three wide">角色</th>
								</tr>
							</thead>
							<tbody>

							</tbody>
						</table>
			  		</div>
			  	</div>
			</div>
		</div>
		<div class="actions inverted segment">
			<button class="ui right floated green inverted ok button">
				<i class="checkmark icon"></i>确定
			</button>
			<button class="ui right floated red inverted cancel button">
				<i class="remove icon"></i>取消
			</button>
		</div>
  	</div>

	<script type="text/javascript" src="js/jquery.min.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/d3.v3.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/juicer-min.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/layer/layer.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/semantic/semantic.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/ztree/js/jquery.ztree.all.js"></script>
	<script type="text/javascript" src="js/jquery.mCustomScrollbar.concat.min.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/vkbeautify.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/svg.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/flowchart_zyl.js" charset="utf-8"></script>
	
	<script>
		juicer.set({  
			'tag::operationOpen': '{@',  
			'tag::operationClose': '}',  
			'tag::interpolateOpen': '{{=',  
			'tag::interpolateClose': '}}'  
		});  
	</script>

	<script id="tpl" type="text/template"><!-- 可以通过模板生成activity，暂时没用 -->
	    <activity Id="{{=activity.id}}" Name="{{=activity.title}}" form-id="" formdisplayschema="" hisformdisplayschema="">
	        <operations/>
	        <text-limit/>
	    </activity>
	</script>
	<!-- 扩展属性集tpl -->
	<script id="extended_attr_tpl" type="text/template">
		<tr jsonstr="{{=jsonstr}}">
			<td>
				<div class="ui radio checkbox">
					<input type="radio" name="selectItem" tabindex="0" class="hidden">
				</div>
			</td>
			<td>{{=data.name}}</td>
			<td>{{=data.value}}</td>
		</tr>
	</script>

	<script>
		var Word = randomWord(false, 8);
		var workflow_name = '过程';
		var workflow_id = 'Package_' + Word + '_Wor1';
		var activitySets = workflow_id + 'Ase1';
		var package_id = workflow_id.substring(0, workflow_id.lastIndexOf('_'));
		var creat_time = new Date().pattern("yyyy-MM-dd HH:mm:ss");
		var conventional_par = 1;

		var setting = {
			view: {
				dblClickExpand: false
				//dblClickExpand: true
			},
			check: {
				enable: false
			},
			callback: {
				/* onRightClick: OnRightClick,
				onDblClick: OnDbClick,*/
				onClick: OnClick,
				onAsyncSuccess: onsuccess 
			},
			async: {  
				autoParam: ["id=node", "value=parentId"],  
				contentType: "application/x-www-form-urlencoded",  
				enable: true,  
				type: "post",  
				url: "http://localhost:8088/platform/organise/organiseTree.do"  
			},
			data:{  
				simpleData: {  
					enable:true  
				}  
			} 
		};
		function OnClick(event, treeId, treeNode) {
			layer.close(treelayer);
			$('.tab.active').find('.classifybtn').first().html(treeNode.name);
			$('.tab.active').find('.classifybtn').first().attr("treeId", treeNode.id);
			var dataTab = $('.tab.active').attr("data-tab");
			if (dataTab == 'second') {
				$('div[data-tab="second"] input').val("");
				$.ajax({
			  		url: "../organise/organiseTree.do",
			  		type: "post",
			  		data: {"type": treeNode.id},
			  		success: function(result) {
			  			$('#hasAnswerCont').empty();
			  			if (result.data.length != 0) {
				  			//显示数据
							$('#hasAnswerCont').html(juicer($('#hasAnswerTpl').html(), result));
							$('.ui.radio.checkbox').checkbox();
			  			} else {
			  				$('#hasAnswerCont').html('<div class="no-info">暂无信息...</div>');
			  			}
			  		},
			  		error: function(data) {
			  			layer.msg('服务器繁忙,请稍后再试...!', {time: 2000, icon:0});
			  		}
			  	});
			}
		}
		function onsuccess(event, treeId, treeNode, msg) {
			/*var dataJson = JSON.parse(msg);
			if(dataJson[0].path=='/root/jnszfgjjglzx'){
				var node = zTree.getNodeByParam("path", "/root/jnszfgjjglzx", null);
				zTree.expandNode(node, true);
			}*/
		}
	
		$(function() {
			/*$('.conventional .definitionBtn').on('click', function() {
				$('.conventional_definition input[name="conventional_definition_id"]').val(workflow_id +"_Par"+ conventional_par);
				conventional_par++;
			})*/

			//数据表格添加点击选中行
			$('.toolgrid,.extended_attr,.post_condition tbody').on('click', 'tr', function() {
				$(this).addClass('active').siblings().removeClass('active');
				$(this).find('input:radio').prop('checked','checked');
			});	
			
			$('.monitorinf,.conventional_definition,.timeout_limit,.monitorinfAddDefinition tbody').on('click', 'tr', function() {
				$(this).addClass('active').siblings().removeClass('active');
			});	
			
			$('.front_condition .dropdown.convergeType').on('change', function(e) {
				var convergeType = $(this).val();
				if (convergeType == 0) {//空
					// $(this).parents('.field').siblings().hide();
					$(this).parents('.field').siblings().addClass('hideDiv');
				}
				if (convergeType == 'AND') {//And
					/*$(this).parents('.field').siblings().eq(0).show();
					$(this).parents('.field').siblings().eq(1).hide();*/
					$(this).parents('.field').siblings().eq(0).removeClass('hideDiv');
					$(this).parents('.field').siblings().eq(1).addClass('hideDiv');
				}
				if (convergeType == 'XOR') {//Xor
					/*$(this).parents('.field').siblings().eq(0).hide();
					$(this).parents('.field').siblings().eq(1).show();*/
					$(this).parents('.field').siblings().eq(0).addClass('hideDiv');
					$(this).parents('.field').siblings().eq(1).removeClass('hideDiv');
				}
			});
			//编辑工具(保存)
			$('.editor-toolbar .icon.save').on('click', function() {
				var dataTab = $('.full-right-btn .item.active').attr('data-tab');
				$('.full-right-btn .item').not($('.full-right-btn .item.active')).trigger('click');//触发点击事件获取xpdl和xml
				$('.full-right-btn .item[data-tab="'+dataTab+'"]').trigger('click');
				var xpdl = $('#xpdlContainer xmp').text();
				var xml = $('#xmlContainer xmp').text();
				var xpdl_top =
					'<?xml version="1.0" encoding="UTF-8" standalone="no"?>'+
				    '<Package xmlns="http://www.wfmc.org/2002/XPDL1.0" xmlns:xpdl="http://www.wfmc.org/2002/XPDL1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Id="'+package_id+'" Name="新包" xsi:schemaLocation="http://www.wfmc.org/2002/XPDL1.0 http://wfmc.org/standards/dtd/TC-1025_schema_10_xpdl.xsd">'+
				    '    <PackageHeader>'+
				    '        <XPDLVersion>1.0</XPDLVersion>'+
				    '        <Vendor>GENTLESOFT</Vendor>'+
				    '        <Created>'+creat_time+'</Created>'+
				    '    </PackageHeader>'+
				    '    <RedefinableHeader PublicationStatus="UNDER_TEST">'+
				    '        <Author>管理员</Author>'+
				    '        <Version>1.0</Version>'+
				    '    </RedefinableHeader>'+
				    '    <ConformanceClass GraphConformance="NON_BLOCKED"/>'+
				    '    <Script Type="text/javascript"/>'+
				    '    <DataFields>'+
				    '        <DataField Id="sourceReferenceId" IsArray="FALSE" Name="sourceReferenceId">'+
				    '            <DataType>'+
				    '                <BasicType Type="STRING"/>'+
				    '            </DataType>'+
				    '            <InitialValue>null</InitialValue>'+
				    '        </DataField>'+
				    '        <DataField Id="formId" IsArray="FALSE" Name="formId">'+
				    '            <DataType>'+
				    '                <BasicType Type="STRING"/>'+
				    '            </DataType>'+
				    '            <InitialValue>null</InitialValue>'+
				    '        </DataField>'+
				    '        <DataField Id="nextActivityInfo" IsArray="FALSE" Name="nextActivityInfo">'+
				    '            <DataType>'+
				    '                <ExternalReference location="org.gentlesoft.wf.NextActivitiesParty"/>'+
				    '            </DataType>'+
				    '            <InitialValue>null</InitialValue>'+
				    '        </DataField>'+
				    '        <DataField Id="nextActivityName" IsArray="FALSE" Name="nextActivityName">'+
				    '            <DataType>'+
				    '                <ExternalReference location="java.util.ArrayList"/>'+
				    '            </DataType>'+
				    '            <InitialValue>null</InitialValue>'+
				    '        </DataField>'+
				    '        <DataField Id="formType" IsArray="FALSE" Name="formType">'+
				    '            <DataType>'+
				    '                <BasicType Type="STRING"/>'+
				    '            </DataType>'+
				    '            <InitialValue>null</InitialValue>'+
				    '        </DataField>'+
				    '    </DataFields>';
				var xpdl_end = 
					'    <ExtendedAttributes>'+
				    '        <ExtendedAttribute Name="MadeBy" Value="com.gentlesoft.tools.wfd"/>'+
				    '        <ExtendedAttribute Name="Version" Value="1.4.2"/>'+
				    '    </ExtendedAttributes>'+
				    '</Package>';
				var xml_top = '<?xml version="1.0" encoding="UTF-8"?><pkg-config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Id="'+package_id+'" Name="新包" Version="" xsi:noNamespaceSchemaLocation="../dtd/flowactconfig.xsd">';
				var xml_end = '</pkg-config>';
				xpdl = vkbeautify.xml(xpdl_top + xpdl + xpdl_end);
				xml = vkbeautify.xml(xml_top + xml + xml_end);
				$('input[name="xpdlcontent"]').val(xpdl);
				$('input[name="xmlcontent"]').val(xpdl);
				$('#containerForm').submit();
				
			});
			//控制属性显示
			$('.component-name').on('click', function() {
				if ($('.component-prop').is(':hidden')) {
					$('.full-right-bottom ').css({height: '30%'});
					$('.view').css({height: '65%'});
					$('.component-name .icon').removeClass('up').addClass('down');
					$('.component-prop').toggle('slow');
				} else {
					$('.full-right-bottom ').css({height: '8%'});
					$('.view').css({height: '87%'});
					$('.component-name .icon').removeClass('down').addClass('up');
					$('.component-prop').toggle();
				}
			});
			//选择左侧工具
			$('#flowComponents .components-btn').on('click', function() {
				$(this).siblings().removeClass('active').end().addClass('active');
				if ('drawLineBtn' == $(this).attr('name')) {
					$('#container').on('mouseover mouseout', '.conceptG', function() {
						if (event.type == 'mouseover') {
	        				this.style.cursor = 'crosshair';
	     				} else if (event.type == 'mouseout') {
	        				this.style.cursor = 'default';
	      				}
					});
				} else {
					$('#container').off('mouseover mouseout', '.conceptG');
				}
			});
		})
	    
	</script>
	<script>
		$(function() {
			var initProp = '<div>'+
								'<div name="id" class="prop-value"><span>id:</span><span>'+workflow_id+'</span></div>'+
								'<div name="name" class="prop-value"><span>名称:</span><span>'+workflow_name+'</span></div>'+
							'</div>'+
							'<div class="clearfix"></div>';
			$('.component-prop').append(initProp);
			$('.component-name span').text(workflow_name);
			$('.menu .item').tab();//标签显示必须放updateScrollbar之前

			$('.menu .item').on('click', updateScrollbar);
		})
		
		$(function() {
			$('#rMenu').hide();
			$('#rMenu').on('mouseleave', function(){
				$('#rMenu').hide();
			})
			//semantic初始化
			$('.pop-btn').popup();
			//jquery插件滚动条
			$(".content-div").mCustomScrollbar();
			//活动属性semantic初始化
			$('.prop_layer .menu .item').tab();
			$('.prop_layer .menu .item').on('click', function() {
				var item = $(this).attr('data-tab');
				$('.prop_layer [data-tab="'+item+'"]').find('.content-div').mCustomScrollbar("update");
			})
			$('select.dropdown').dropdown();
			// $('.dropdown.definition_2e_role').dropdown('set selected(value)', 2);
			$('.ui.checkbox').checkbox({
				onChecked: function() {
					$(this).parents('.checkbox').find('input[name]').val(true);
				},
				onUnchecked: function() {
					$(this).parents('.checkbox').find('input[name]').val(false);
				}
			});
			//checkbox 多人处理是否顺序执行 
			$('.checkbox.assignmentsOrderDiv').checkbox({
    			onChecked: function() {
    				$(this).parents('.checkbox').find('input[name]').val(true);
					$('.checkbox.completeAllAssignmentsDiv').checkbox('check');
				},
				onUnchecked: function() {
					$(this).parents('.checkbox').find('input[name]').val(false);
				}
			});
			//checkbox 是否多人处理
			$('.checkbox.completeAllAssignmentsDiv').checkbox({
    			onChecked: function() {
    				$(this).parents('.checkbox').find('input[name]').val(true);
				},
				onUnchecked: function() {
					$('.checkbox.assignmentsOrderDiv').checkbox('uncheck');
					$(this).parents('.checkbox').find('input[name]').val(false);
				}
			});

			$('.front_condition .radio.checkbox').checkbox({
				onChecked: function() {
					$('.front_condition').find('input[name="isCreateNew"]').val($(this).attr('tabindex'));
			    }
			});
			/* 活动属性-常规-定义 */
			$('.conventional_definition.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.prop_layer').dimmer('hide');
          			clearModal(this);
          			$(this).find('tbody').empty();
          			$('.conventional_definition .menu .item[data-tab="definition_1"]').trigger('click');
          		},
				onShow: function() {
          			$('.modal.prop_layer').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.conventional .definitionBtn');
			/* 活动属性-工具-添加  */
			$('.tool_add.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.prop_layer').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.prop_layer').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.prop_layer .toolAddBtn');
			/*  活动属性-工具-添加-扩展属性添加 */
			$('.tool_extendAttr_add.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.tool_add').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.tool_add').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.tool_add .actualParametersAdd2');
			/*  活动属性-后置条件-扩展属性-添加 */
			$('.postCondition_extendAttr_add.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
					$('.modal.prop_layer').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.prop_layer').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.post_condition .extendAttrAddBtn');
			/* 活动属性-扩展属性-添加 */
			$('.extendAttr_add.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.prop_layer').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.prop_layer').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.extended_attr .extendAttrAddBtn');
			/* 超时限制-增加 */
			$('.timeoutLimit_add.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.prop_layer').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.prop_layer').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.prop_layer .timeoutLimitAddBtn');
			/* 监控信息-增加 */
			$('.monitorinf_add.modal').modal({
				allowMultiple: true,
				autofocus: false, 
				duration: {},
				onHidden: function() {
          			$('.modal.prop_layer').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.prop_layer').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.prop_layer .monitorinfAddBtn');
			/* 监控信息-增加-定义 */
			$('.monitorinfAddDefinition.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function(){
          			$('.modal.monitorinf_add').dimmer('hide');
          			clearModal(this);
          			$(this).find('tbody').empty();
          		},
				onShow: function() {
          			$('.modal.monitorinf_add').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.monitorinf_add .definitionBtn');
			/* 工具-添加-定义 */
			$('.tooldefinition.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.tool_add').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.tool_add').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.tool_add .definitionBtn');
			/* 工具-添加-定义-添加 */
			$('.tooldefinition_add.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.tooldefinition').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.tooldefinition').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.tooldefinition .tooldefinitionAddBtn');
			/* 工具-添加-定义-添加-添加 */
			$('.tooldefinition_add_add.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.tooldefinition_add').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.tooldefinition_add').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.tooldefinition_add .tooldefinitionAddAddBtn');
			/* 工具-添加-添加 */
			$('.actualParametersDiv.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.tool_add').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.tool_add').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.tool_add .actualParametersAdd1');
			/* 工具-添加-添加-定义 */
			$('.toolAddDefinition.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.actualParametersDiv').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.actualParametersDiv').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.actualParametersDiv .definitionBtn');
			/* 工具-添加-添加-定义-添加 */
			$('.toolAddDefinitionAdd.modal').modal({
				allowMultiple: true,
				autofocus: false,
				duration: {},
				onHidden: function() {
          			$('.modal.toolAddDefinition').dimmer('hide');
          			clearModal(this);
          		},
				onShow: function() {
          			$('.modal.toolAddDefinition').dimmer({closable: false}).dimmer('show');
          		}
			}).modal('attach events', '.modal.toolAddDefinition .toolAddDefinitionAddBtn');
    		//点击显示树形结构div
			$('input[name="definition_name"]').on('click', function() {
				treelayer = layer.open({
				  	type: 1,
				  	title: 'PersonTree',
				  	skin: 'layui-layer-rim', //边框
				  	area: ['300px', '350px'], //宽高
				  	content: '<div><ul id="treeDemo" class="ztree"></ul></div>'
				});
				/* ztree */
				$.fn.zTree.init($("#treeDemo"), setting);
				zTree = $.fn.zTree.getZTreeObj("treeDemo");
			});
		})
		//清空表单
		function clearModal(selector) {
			$(selector).find('input, textarea').val('');
    		$(selector).find('.ui.dropdown').dropdown('clear');
		}
		//刷新显示滚动条
		function updateScrollbar() {
			var dataTab = $(this).attr('data-tab');
			if (dataTab == 'third') { //xml视图
				var customScrollbar = $("#xmlContainer").find(".mCSB_scrollTools");
				// customScrollbar.css({"opacity":0});
				$("#xmlContainer").mCustomScrollbar("update");
				// customScrollbar.animate({opacity:1},"slow");
			}
			if (dataTab == 'second') { //xpdl视图
				var customScrollbar = $("#xpdlContainer").find(".mCSB_scrollTools");
				$("#xpdlContainer").mCustomScrollbar("update");
			}
		}
	</script>
</body>
</html>